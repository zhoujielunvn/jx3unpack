function AppendNpcHelperFunctionsToGlobal()
	_G.NpcHelper = NpcHelper
end

-- --------------------------------------------------------------------------------------
NpcHelper = NpcHelper or {}
NPC_SEX_MALE	=	1;
NPC_SEX_FEMALE	=	2;

--在NPC周围一定角度，一定距离，创建一个DOODAD
--nAngel 需要创建DOODAD相对于NPC的角度，nDir创建出来的doodad的朝向,nR创建的doodad离NPC的距离
function NpcHelper.CreateDoodadByDirection(scene,dwDoodadTemplateID,npc,nAngel,nR,nDir)
	if npc then
		local nX,nY,nZ = npc.GetAbsoluteCoordinate()
		if scene then
			local dwAngel = (npc.nFaceDirection * 1.4 - 90)/180*3.14159265 + nAngel
			local createddoodad = scene.CreateDoodad(dwDoodadTemplateID,nX + nR * math.cos(dwAngel),nY + nR * math.sin(dwAngel),nZ,nDir)
			return createddoodad
		end
	end
end

--在NPC周围一定角度，一定距离，创建一个NPC
--nAngel 需要创建NPC相对于原来NPC的角度，nDir创建出来的NPC的朝向,nR创建的NPC离原来NPC的距离
--szNickName  创建出来的NPC别名，没有就不填，不要填0
function NpcHelper.CreateNpcByDirection(scene, dwNpcTemplateID, npc, nAngel, nR, nDir, nDisappearFrame, szNickName)
	nDisappearFrame = nDisappearFrame or 9600
	if npc then
		local nX,nY,nZ = npc.GetAbsoluteCoordinate()
		if scene then
			local dwAngel = (npc.nFaceDirection * 1.4 - 90)/180*3.14159265 + nAngel
            if szNickName then
				local creatednpc = scene.CreateNpc(dwNpcTemplateID,nX + nR * math.cos(dwAngel),nY + nR * math.sin(dwAngel),nZ,nDir,nDisappearFrame,szNickName)
				return creatednpc
			else
				local creatednpc = scene.CreateNpc(dwNpcTemplateID,nX + nR * math.cos(dwAngel),nY + nR * math.sin(dwAngel),nZ,nDir,nDisappearFrame)
				return creatednpc
			end
		end
	end
end